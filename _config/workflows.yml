---
Name: defaultworkflows
---
SilverStripe\Core\Injector\Injector:
  SimpleReviewApprove:
    class: DNADesign\Workflow\Templates\WorkflowTemplate
    constructor:
      - 'Review and Approve'
      - 'Single step review and approve. Make sure to update the Apply for approval and Notify users steps!'
      - 0.2
    properties:
      structure:
        'Apply for approval':
          type: DNADesign\Workflow\Actions\AssignUsersToWorkflowAction
          transitions:
            notify: 'Notify users'
        'Notify users':
          type: DNADesign\Workflow\Actions\NotifyUsersWorkflowAction
          transitions:
            approval: Approval
        Approval:
          type: DNADesign\Workflow\Actions\SimpleApprovalWorkflowAction
          transitions:
            Approve: Publish
            Reject: 'Reject changes'
        Publish:
          type: DNADesign\Workflow\Actions\PublishItemWorkflowAction
          transitions:
            assign: 'Assign Initiator Publish'
        'Assign Initiator Publish':
          type: DNADesign\Workflow\Actions\AssignUsersToWorkflowAction
          transitions:
            notify: 'Notify Initiator Publish'
        'Notify Initiator Publish':
          type: DNADesign\Workflow\Actions\NotifyUsersWorkflowAction
        'Reject changes':
          type: DNADesign\Workflow\Actions\CancelWorkflowAction
          transitions:
            assign: 'Assign Initiator Cancel'
        'Assign Initiator Cancel':
          type: DNADesign\Workflow\Actions\AssignUsersToWorkflowAction
          transitions:
            notify: 'Notify Initiator Cancel'
        'Notify Initiator Cancel':
          type: DNADesign\Workflow\Actions\NotifyUsersWorkflowAction
  DNADesign\Workflow\Services\WorkflowService:
    properties:
      templates:
        - '%$SimpleReviewApprove'
